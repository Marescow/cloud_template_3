zk.afterLoad("zul.db",function(){function h(t,o){if(o.indexOf("'")>-1){o=o.replace(/'/g,"")}o=o.replace(/ de /g," ");t=t.replace(/ de /g," ");var w=[],z=o.indexOf("MMM"),v=o.indexOf("E"),m=o.length,n=[],l=o.indexOf("a"),p=t.replace(/[^.]/g,"").length,y=o.replace(/[^.]/g,"").length;for(var s=0,q=0,r=t.length;q<r;s++,q++){var x=t.charAt(q),u=m>s?o.charAt(s):"";if(x.match(/\d/)){n.push(x)}else{if((z>=0&&z<=s)||(v>=0&&v<=s)||(l>-1&&l<=s)){if(x.match(/\w/)){n.push(x)}else{if(x.charCodeAt(0)<128&&(x.charCodeAt(0)!=46||p==y||u.charCodeAt(0)==46)){if(n.length){w.push(n.join(""));n=[]}}else{n.push(x)}}}else{if(n.length){if(t.charAt(q-1).match(/\d/)){while(u==o.charAt(s-1)&&u){u=o.charAt(++s)}}w.push(n.join(""));n=[]}else{if(x.match(/\w/)){return}}}}}if(n.length){w.push(n.join(""))}return w}function b(l,m,k,j){if(j<2){j=2}if(l&&l.length>j){m[k]=l.substring(j);return l.substring(0,j)}return l}function f(j){return parseInt(j,10)}function g(n,m){var l=""+n;for(var k=m-l.length;--k>=0;){l="0"+l}return l}function c(k,j){return Math.round((Dates.newInstance([k.getFullYear(),k.getMonth(),k.getDate()],k.getTimeZone())-j)/86400000)}function d(k){var j=Dates.newInstance([k.getFullYear(),0,1],k.getTimeZone());return g(1+c(k,j))}function a(j){return j.getDate()}function e(n,l){var m=Dates.newInstance([n.getFullYear(),n.getMonth(),1],n.getTimeZone()),k=m.getDay(),j=(l>k?k+7:k)-l;return g(1+Math.floor((c(n,m)+j)/7))}function i(k){var j=Dates.newInstance([k.getFullYear(),k.getMonth(),1],k.getTimeZone());return g(1+Math.floor(c(k,j)/7))}zk.fmt.Date={parseDate:function(s,D,t,L,aa,Z,K){if(!D){D="yyyy/MM/dd"}L=L||zUtl.today(D,Z);aa=aa||{DOW_1ST:zk.DOW_1ST,MINDAYS:zk.MINDAYS,ERA:zk.ERA,YDELTA:zk.YDELTA,SDOW:zk.SDOW,S2DOW:zk.S2DOW,FDOW:zk.FDOW,SMON:zk.SMON,S2MON:zk.S2MON,FMON:zk.FMON,APM:zk.APM};var Q=L.getFullYear(),U=L.getMonth(),ag=L.getDate(),I,X=L.getHours(),ah=L.getMinutes(),O=L.getSeconds(),E=L.getMilliseconds(),x=D.indexOf("a"),o=x>-1,z=o&&(D.indexOf("h")>-1||D.indexOf("K")>-1),R,af=h(s,D),G=/.*\D.*/,ai=!G.test(s);if(!af||!af.length){return}var ad=false;for(var ae=0,ac=0,u=0,J=D.length;ac<J;++ac){var N=D.charAt(ac);if(((N>="a"&&N<="z")||(N>="A"&&N<="Z"))&&!ad){var C=1,ab;for(ab=ac;++ab<J;++C){if(D.charAt(ab)!=N){break}}var n,Y;if(ab<J){var r=D.charAt(ab);n=r=="y"||r=="M"||r=="d"||r=="E"}var w=ai?af[0].substring(ac-u,ab-u):af[ae++];switch(N){case"y":if(t&&w&&(w.length<C)){return}if(n){if(C<=3){C=2}if(w&&w.length>C){af[--ae]=w.substring(C);w=w.substring(0,C)}}if(t&&w&&G.test(w)){return}if(!isNaN(Y=f(w))){var P=Math.min(Y,200000);if(P<100){var F=Q+aa.YDELTA;if(P===F%100){Q=F;break}var H=zk.TDYS,p=(Math.floor(H/100)*100)+P,W=p+100;Q=p>H?p:W}else{Q=P}}break;case"M":var aj=w?w.toLowerCase():"",v=!isNaN(w);if(!aj){break}if(!v&&w){var T;if(C==3){T=aa.SMON}else{if(C==4){T=aa.FMON}else{break}}for(var M=T.length,S;--M>=0;){var B=T[M].toLowerCase();if((t&&aj==B)||(!t&&aj.startsWith(B))){var A=B.length;if(w&&w.length>A){af[--ae]=w.substring(A)}U=M;S=true;break}}if(S){break}}if(C==3&&w){if(n){w=b(w,af,--ae,w.length)}if(isNaN(Y=f(w))){return}U=Y-1}else{if(C<=2){if(n&&w&&w.length>2){af[--ae]=w.substring(2);w=w.substring(0,2)}if(isNaN(Y=f(w))){return}U=Y-1}else{for(var V=0;;++V){if(V==12){return}if(C==3){if(aa.SMON[V]==w){U=V;break}}else{if(w&&aa.FMON[V].startsWith(w)){U=V;break}}}}}if(U>11){return}break;case"E":if(n){b(w,af,--ae,C)}break;case"d":if(t&&w&&(w.length<C)){return}if(n){w=b(w,af,--ae,C)}if(t&&w&&G.test(w)){return}if(!isNaN(Y=f(w))){ag=Y;I=true;if(ag<0||ag>31){return}}break;case"H":case"h":case"K":case"k":if(t&&w&&(w.length<C)){return}if(z?(N=="H"||N=="k"):(N=="h"||N=="K")){break}if(n){w=b(w,af,--ae,C)}if(t&&w&&G.test(w)){return}if(!isNaN(Y=f(w))){X=(N=="h"&&Y==12)||(N=="k"&&Y==24)?0:N=="K"?Y%12:Y}break;case"m":case"s":case"S":if(t&&w&&(w.length<C)){return}if(n){w=b(w,af,--ae,C)}if(t&&w&&G.test(w)){return}if(!isNaN(Y=f(w))){if(N=="m"){ah=Y}else{if(N=="s"){O=Y}else{E=Y}}}break;case"a":if(!z){break}if(!w){return}R=w.toUpperCase().startsWith(aa.APM[0].toUpperCase());break}ac=ab-1}else{if(N!=="'"){u++}else{if(D.charAt(ac+1)==="'"){ac++;u++}else{ad=!ad}}}}if(z&&R===false){X+=12}var q;if(U==1&&ag==29&&aa.YDELTA){q=new LeapDay(Q-aa.YDELTA,U,ag,X,ah,O,E,Z);q.setOffset(aa.YDELTA)}else{q=Dates.newInstance([Q,U,ag,X,ah,O,E],Z)}if(!I&&q.getMonth()!=U){q=Dates.newInstance([Q,U+1,0,X,ah,O,E],Z)}if(t||K){if(q.getFullYear()!=Q||q.getMonth()!=U||q.getDate()!=ag||q.getHours()!=X||q.getMinutes()!=ah||q.getSeconds()!=O){return}}if(t){s=s.trim();for(var ac=0;ac<af.length;ac++){s=s.replace(af[ac],"")}for(var ab=s.length;ab--;){var N=s.charAt(ab);if((N>"9"||N<"0")&&D.indexOf(N)<0){return}}}return +q==+L?L:q},formatDate:function(n,o,l){if(!o){o="yyyy/MM/dd"}l=l||{DOW_1ST:zk.DOW_1ST,MINDAYS:zk.MINDAYS,ERA:zk.ERA,YDELTA:zk.YDELTA,SDOW:zk.SDOW,S2DOW:zk.S2DOW,FDOW:zk.FDOW,SMON:zk.SMON,S2MON:zk.S2MON,FMON:zk.FMON,APM:zk.APM};var s="";var m=false;for(var r=0,v=o.length;r<v;++r){var p=o.charAt(r);if(((p>="a"&&p<="z")||(p>="A"&&p<="Z"))&&!m){var u=1,q;for(q=r;++q<v;++u){if(o.charAt(q)!=p){if(o.charAt(q)=="r"){q++}break}}switch(p){case"y":if(u<=3){s+=g(n.getFullYear()%100,2)}else{s+=g(n.getFullYear(),u)}break;case"M":if(u<=2){s+=g(n.getMonth()+1,u)}else{if(u==3){s+=l.SMON[n.getMonth()]}else{s+=l.FMON[n.getMonth()]}}break;case"d":s+=g(a(n),u);break;case"E":if(u<=3){s+=l.SDOW[(n.getDay()-l.DOW_1ST+7)%7]}else{s+=l.FDOW[(n.getDay()-l.DOW_1ST+7)%7]}break;case"D":s+=d(n);break;case"w":s+=zUtl.getWeekOfYear(n.getFullYear(),n.getMonth(),n.getDate(),l.DOW_1ST,l.MINDAYS);break;case"W":s+=e(n,l.DOW_1ST);break;case"G":s+=l.ERA;break;case"F":s+=i(n);break;case"H":if(u<=2){s+=g(n.getHours(),u)}break;case"k":var t=n.getHours();if(t==0){t="24"}if(u<=2){s+=g(t,u)}break;case"K":if(u<=2){s+=g(n.getHours()%12,u)}break;case"h":var t=n.getHours();t%=12;if(t==0){t="12"}if(u<=2){s+=g(t,u)}break;case"m":if(u<=2){s+=g(n.getMinutes(),u)}break;case"s":if(u<=2){s+=g(n.getSeconds(),u)}break;case"S":if(u<=3){s+=g(n.getMilliseconds(),u)}break;case"Z":s+=-(n.getTimezoneOffset()/60);break;case"z":s+=-(n.getTimezoneOffset()/60);break;case"a":s+=l.APM[n.getHours()>11?1:0];break;case"u":s+="uur";break;default:s+="1"}r=q-1}else{if(p!="'"){s+=p}else{if(p==="'"){if(o.charAt(r+1)==="'"){s+=p;r++}else{m=!m}}}}}return s}}});